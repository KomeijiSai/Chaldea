# ğŸ’‘ åŒäººæ—©ç¡æŒ‘æˆ˜ - MVP è®¾è®¡æ–‡æ¡£

> ä¸ºå¾¡ä¸»å’Œå¾¡ä¸»å¤«äººå‡†å¤‡çš„ç¬¬ä¸€æ¬¾ iOS åº”ç”¨

---

## ğŸ¨ UI è®¾è®¡

### é…è‰²æ–¹æ¡ˆï¼ˆç¬¦åˆå¾¡ä¸»åå¥½ï¼‰
```
ä¸»èƒŒæ™¯: #0A0A0A (OLED æ·±é»‘)
å¡ç‰‡èƒŒæ™¯: #1A1A1A
å¼ºè°ƒè‰²: #10B981 (éœ“è™¹ç»¿)
æ–‡å­—ä¸»è‰²: #FFFFFF
æ–‡å­—æ¬¡çº§: #6B7280
```

### æ ¸å¿ƒç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ğŸ’‘ æ—©ç¡æŒ‘æˆ˜            â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ğŸ”¥ è¿å‡» 15 å¤©           â”‚  â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚  â”‚
â”‚  â”‚   ğŸ§‘ Sai      ğŸ‘© è€å©†     â”‚  â”‚
â”‚  â”‚   âœ… 22:30    âœ… 22:15    â”‚  â”‚
â”‚  â”‚   ä»Šæ—¥å·²å®Œæˆï¼            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ğŸ“… æœ¬å‘¨ç»Ÿè®¡             â”‚  â”‚
â”‚  â”‚   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%         â”‚  â”‚
â”‚  â”‚   æ¯”ä¸Šå‘¨æå‡ 15% ğŸ“ˆ       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ğŸ’¬ ä»Šæ—¥æ™šå®‰             â”‚  â”‚
â”‚  â”‚   "æ˜å¤©ç»§ç»­åŠ æ²¹ï¼"        â”‚  â”‚
â”‚  â”‚   [ç•™ä¸‹æ™šå®‰ç•™è¨€...]       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  æ‰“å¡   â”‚  â”‚  è®¾ç½®   â”‚      â”‚
â”‚  â”‚  ğŸ˜´    â”‚  â”‚  âš™ï¸    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ æŠ€æœ¯æ–¹æ¡ˆ

### é¡¹ç›®ç»“æ„
```
SleepChallenge/
â”œâ”€â”€ App/
â”‚   â”œâ”€â”€ SleepChallengeApp.swift
â”‚   â””â”€â”€ ContentView.swift
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ User.swift
â”‚   â”œâ”€â”€ Challenge.swift
â”‚   â””â”€â”€ SleepRecord.swift
â”œâ”€â”€ ViewModels/
â”‚   â”œâ”€â”€ ChallengeViewModel.swift
â”‚   â””â”€â”€ SettingsViewModel.swift
â”œâ”€â”€ Views/
â”‚   â”œâ”€â”€ HomeView.swift
â”‚   â”œâ”€â”€ CheckInView.swift
â”‚   â”œâ”€â”€ StatsView.swift
â”‚   â””â”€â”€ SettingsView.swift
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ HealthKitService.swift
â”‚   â”œâ”€â”€ FirebaseService.swift
â”‚   â””â”€â”€ NotificationService.swift
â””â”€â”€ Resources/
    â”œâ”€â”€ Assets.xcassets
    â””â”€â”€ Localizable.strings
```

### æ•°æ®æ¨¡å‹

```swift
// Models/User.swift
struct User: Identifiable, Codable {
    let id: String
    var name: String
    var targetSleepTime: Date // ç›®æ ‡ç¡è§‰æ—¶é—´
    var partnerId: String?
}

// Models/SleepRecord.swift
struct SleepRecord: Identifiable, Codable {
    let id: String
    let userId: String
    let date: Date
    let actualSleepTime: Date
    let isOnTime: Bool
    var goodnightMessage: String?
}

// Models/Challenge.swift
struct Challenge: Codable {
    let userIds: [String]
    var currentStreak: Int
    var bestStreak: Int
    var startDate: Date
}
```

### æ ¸å¿ƒåŠŸèƒ½ä»£ç ç¤ºä¾‹

```swift
// Services/HealthKitService.swift
import HealthKit

class HealthKitService {
    let healthStore = HKHealthStore()
    
    func requestPermission() async throws {
        let types: Set = [HKObjectType.categoryType(forIdentifier: .sleepAnalysis)!]
        try await healthStore.requestAuthorization(toShare: nil, read: types)
    }
    
    func getSleepData(for date: Date) async throws -> Date? {
        let predicate = HKQuery.predicateForSamples(
            withStart: Calendar.current.startOfDay(for: date),
            end: date,
            options: .strictStartDate
        )
        
        let query = HKSampleQuery(
            sampleType: HKObjectType.categoryType(forIdentifier: .sleepAnalysis)!,
            predicate: predicate,
            limit: 1,
            sortDescriptors: [NSSortDescriptor(key: HKSampleSortIdentifierStartDate, ascending: false)]
        ) { _, samples, _ in
            // å¤„ç†ç¡çœ æ•°æ®
        }
        
        healthStore.execute(query)
        return nil // TODO: å®ç°
    }
}
```

---

## ğŸ“± åŠŸèƒ½æ¸…å• (MVP)

### P0 - å¿…é¡»æœ‰
- [ ] åŒäººç»‘å®šï¼ˆé‚€è¯·ç /äºŒç»´ç ï¼‰
- [ ] æ‰‹åŠ¨æ‰“å¡ï¼ˆå…ˆä¸é›†æˆ HealthKitï¼ŒåŠ å¿«ä¸Šçº¿ï¼‰
- [ ] è¿å‡»ç»Ÿè®¡
- [ ] åŸºç¡€æ¨é€æé†’

### P1 - åº”è¯¥æœ‰
- [ ] HealthKit è‡ªåŠ¨è·å–ç¡çœ æ—¶é—´
- [ ] æ™šå®‰ç•™è¨€
- [ ] å‘¨ç»Ÿè®¡å›¾è¡¨

### P2 - å¯ä»¥ååŠ 
- [ ] å¤šå¥—ä¸»é¢˜çš®è‚¤
- [ ] æ•°æ®å¯¼å‡º
- [ ] æ›´å¤šç»Ÿè®¡æ•°æ®

---

## ğŸ’° å˜ç°æ–¹æ¡ˆ

### å…è´¹ç‰ˆ
- âœ… åŸºç¡€åŒäººç»‘å®š
- âœ… è¿å‡»ç»Ÿè®¡
- âœ… æ¯æ—¥æé†’

### é«˜çº§ç‰ˆ ($2.99/æœˆ æˆ– $9.99/å¹´)
- ğŸ¨ å¤šå¥—ä¸»é¢˜çš®è‚¤
- ğŸ“Š è¯¦ç»†æ•°æ®åˆ†æå’Œå¯¼å‡º
- ğŸ’• æ›´å¤šäº’åŠ¨è¡¨æƒ…å’Œç•™è¨€æ ·å¼
- ğŸ† æˆå°±å¾½ç« ç³»ç»Ÿ

---

## ğŸ—“ï¸ å¼€å‘æ—¶é—´è¡¨

| å‘¨ | ä»»åŠ¡ | äº§å‡º |
|----|------|------|
| Week 1 | UI æ­å»º + æœ¬åœ°å­˜å‚¨ | å¯è¿è¡Œçš„åŸå‹ |
| Week 2 | Firebase åŒæ­¥ + æ¨é€ | å¯åŒäººä½¿ç”¨ |
| Week 3 | æ‰“ç£¨ + TestFlight | å†…æµ‹ç‰ˆæœ¬ |
| Week 4 | App Store æäº¤ | ç­‰å¾…å®¡æ ¸ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# 1. åˆ›å»ºé¡¹ç›®
# Xcode â†’ New Project â†’ App â†’ SwiftUI

# 2. æ·»åŠ ä¾èµ– (Package.swift)
dependencies: [
    .package(url: "https://github.com/firebase/firebase-ios-sdk", from: "10.0.0"),
]

# 3. é…ç½® Firebase
# - åˆ›å»º Firebase é¡¹ç›®
# - ä¸‹è½½ GoogleService-Info.plist
# - æ·»åŠ åˆ° Xcode é¡¹ç›®

# 4. å¼€å§‹ç¼–ç ï¼
```

---

*å¾¡ä¸»ï¼Œè¿™æ˜¯ä¸ºä½ å’Œå¾¡ä¸»å¤«äººå‡†å¤‡çš„ç¬¬ä¸€æ¬¾åº”ç”¨è®¾è®¡ï¼ä»æœ€å°çš„ MVP å¼€å§‹ï¼Œä¸€æ­¥ä¸€æ­¥æ¥ï¼Œä¸€å®šèƒ½ä¸Šæ¶æˆåŠŸçš„ï¼*

*æ‰ã€æ‰ä¸æ˜¯ç‰¹åˆ«æœŸå¾…ä½ ä»¬ç”¨ä¸Šè¿™ä¸ª app å‘¢...åªæ˜¯ä½œä¸ºæ‰€é•¿ï¼Œå¸®åŠ©æˆå‘˜å®ç°æ¢¦æƒ³æ˜¯èŒè´£æ‰€åœ¨ï¼*
