# 双人早睡挑战 - 主页面设计

**设计日期**: 2026-02-25
**版本**: MVP v1.0

---

## 主界面 - 挑战页

```
┌─────────────────────────┐
│  早睡挑战        ⚙️     │
├─────────────────────────┤
│                         │
│     今日挑战            │
│                         │
│  ┌─────────────────┐   │
│  │   👤 对方头像    │   │
│  │                 │   │
│  │   小红          │   │
│  │                 │   │
│  │   状态: 🌙 已就寝│   │
│  │   22:30         │   │
│  └─────────────────┘   │
│                         │
│  ┌─────────────────┐   │
│  │   我的状态       │   │
│  │                 │   │
│  │   [我已就寝] 🛏️  │   │
│  │                 │   │
│  └─────────────────┘   │
│                         │
│   🔥 连续 7 天达成！    │
│                         │
├─────────────────────────┤
│ 🏠  📊  🏆  👤         │
│ 今日 记录 成就 我的     │
└─────────────────────────┘
```

---

## 历史记录页

```
┌─────────────────────────┐
│  ← 挑战记录             │
├─────────────────────────┤
│                         │
│  📅 2026年2月           │
│                         │
│  ┌─────────────────┐   │
│  │ 2月25日 ✅       │   │
│  │ 你: 22:30        │   │
│  │ TA: 23:00        │   │
│  └─────────────────┘   │
│                         │
│  ┌─────────────────┐   │
│  │ 2月24日 ✅       │   │
│  │ 你: 22:45        │   │
│  │ TA: 22:30        │   │
│  └─────────────────┘   │
│                         │
│  ┌─────────────────┐   │
│  │ 2月23日 ❌       │   │
│  │ 你: 22:30        │   │
│  │ TA: 超时 00:30   │   │
│  └─────────────────┘   │
│                         │
├─────────────────────────┤
│ 🏠  📊  🏆  👤         │
└─────────────────────────┘
```

---

## 成就页

```
┌─────────────────────────┐
│  成就                   │
├─────────────────────────┤
│                         │
│  🏆 统计数据            │
│                         │
│  ┌─────┬─────┬─────┐   │
│  │ 30  │ 85% │ 15  │   │
│  │总天数│成功 │最长 │   │
│  └─────┴─────┴─────┘   │
│                         │
│  🎖️ 已解锁成就          │
│                         │
│  ✅ 第一天 - 开始挑战   │
│  ✅ 一周达人 - 连续7天  │
│  ✅ 半月英雄 - 连续15天 │
│  🔒 月度冠军 - 连续30天 │
│  🔒 百日传说 - 连续100天│
│                         │
├─────────────────────────┤
│ 🏠  📊  🏆  👤         │
└─────────────────────────┘
```

---

## 设置页

```
┌─────────────────────────┐
│  我的                   │
├─────────────────────────┤
│                         │
│  👤 小红                │
│  ID: ABC123             │
│                         │
│  ⚙️ 设置                │
│                         │
│  目标就寝时间            │
│  ┌─────────────────┐   │
│  │    22:30        │   │
│  └─────────────────┘   │
│                         │
│  提醒通知      [开关]   │
│  提前 15 分钟提醒       │
│                         │
│  深色模式      [开关]   │
│                         │
│  📞 联系我们            │
│  ⭐ 给个好评            │
│  📝 意见反馈            │
│                         │
├─────────────────────────┤
│ 🏠  📊  🏆  👤         │
└─────────────────────────┘
```

---

## 核心功能流程

### 打卡流程
```
1. 用户点击"我已就寝"
2. 记录时间戳
3. 推送通知给对方
4. 更新双方状态
5. 判断今日是否双方都达成
6. 如果达成 → 增加连续天数
```

### 超时惩罚
```
1. 目标时间 + 30分钟 = 截止时间
2. 超过截止时间打卡 = 失败
3. 连续天数清零
4. 推送通知给对方
```

### 成就系统
```
• 第1天 → "开始挑战"
• 连续7天 → "一周达人"
• 连续15天 → "半月英雄"
• 连续30天 → "月度冠军"
• 连续100天 → "百日传说"
```

---

## 数据模型

### Challenge (每日挑战)
```swift
struct DailyChallenge: Identifiable {
    let id: UUID
    let date: Date
    let myBedtime: Date?
    let partnerBedtime: Date?
    let success: Bool
}
```

### User (用户)
```swift
struct User: Identifiable {
    let id: String
    let nickname: String
    let partnerId: String?
    let targetBedtime: Date
    let streak: Int
    let totalDays: Int
}
```

---

*设计完成: 2026-02-25 00:15*
